[Ivy]
1798254723F146E3 9.2.0 #module
>Proto >Proto Collection #zClass
Ao0 ATrustDemo Big #zClass
Ao0 B #cInfo
Ao0 #process
Bk0 BpmnScriptTask Big #zClass
Bk0 BpmnScriptTask #cInfo
Bk1 BpmnScriptTask Big #zClass
Bk1 BpmnScriptTask #cInfo
Bk2 BpmnScriptTask Big #zClass
Bk2 BpmnScriptTask #cInfo
Bk3 BpmnServiceTask Big #zClass
Bk3 BpmnServiceTask #cInfo
Bk4 BpmnServiceTask Big #zClass
Bk4 BpmnServiceTask #cInfo
Bk5 BpmnScriptTask Big #zClass
Bk5 BpmnScriptTask #cInfo
Bk6 BpmnServiceTask Big #zClass
Bk6 BpmnServiceTask #cInfo
Bk7 BpmnScriptTask Big #zClass
Bk7 BpmnScriptTask #cInfo
Ao0 @AnnotationInP-0n ai ai #zField
Ao0 @TextInP .type .type #zField
Ao0 @TextInP .processKind .processKind #zField
Ao0 @TextInP .xml .xml #zField
Ao0 @TextInP .responsibility .responsibility #zField
Ao0 @EndTask f10 '' #zField
Ao0 Bk0 S62 'Sub 6' #zField
Ao0 @EndTask f11 '' #zField
Ao0 Bk1 S60 'Sub 6' #zField
Ao0 Bk2 S11 'Sub 1' #zField
Ao0 @InfoButton f25 '' #zField
Ao0 Bk3 S21 'Sub 2' #zField
Ao0 Bk4 S51 'Sub 5' #zField
Ao0 @StartRequest f15 '' #zField
Ao0 @StartRequest f16 '' #zField
Ao0 @StartRequest f4 '' #zField
Ao0 @StartRequest f17 '' #zField
Ao0 @InfoButton f21 '' #zField
Ao0 Bk5 S31 'Sub 3' #zField
Ao0 @InfoButton f22 '' #zField
Ao0 Bk6 S41 'Sub 4' #zField
Ao0 @InfoButton f18 '' #zField
Ao0 Bk7 S61 'Sub 6' #zField
Ao0 @EndTask f20 '' #zField
Ao0 @InfoButton f24 '' #zField
Ao0 @UserTask f3 '' #zField
Ao0 @EndTask f19 '' #zField
Ao0 @PushWFArc f26 '' #zField
Ao0 @PushWFArc f5 '' #zField
Ao0 @PushWFArc f9 '' #zField
Ao0 @TkArc f6 '' #zField
Ao0 @PushWFArc f14 '' #zField
Ao0 @PushWFArc f12 '' #zField
Ao0 @PushWFArc f7 '' #zField
Ao0 @PushWFArc f8 '' #zField
Ao0 @PushWFArc f13 '' #zField
Ao0 @PushWFArc f23 '' #zField
Ao0 @PushWFArc f27 '' #zField
Ao0 @PushWFArc f28 '' #zField
Ao0 @PushWFArc f29 '' #zField
>Proto Ao0 Ao0 ATrustDemo #zField
Bk0 @AnnotationInP-0n ai ai #zField
Bk0 @TextInP tags tags #zField
Bk0 @MessageFlowInP-0n messageIn messageIn #zField
Bk0 @MessageFlowOutP-0n messageOut messageOut #zField
Bk0 @TextInP .xml .xml #zField
Bk0 @TextInP .responsibility .responsibility #zField
Bk0 @PushTrueWFInG-01 g0 '' #zField
Bk0 @PushTrueWFOutG-01 g1 '' #zField
Bk0 @GridStep f1 '' #zField
Bk0 @PushWFArc f2 '' #zField
Bk0 @PushWFArc f0 '' #zField
>Proto Bk0 Bk0 BpmnScriptTask #zField
Bk1 @AnnotationInP-0n ai ai #zField
Bk1 @TextInP tags tags #zField
Bk1 @MessageFlowInP-0n messageIn messageIn #zField
Bk1 @MessageFlowOutP-0n messageOut messageOut #zField
Bk1 @TextInP .xml .xml #zField
Bk1 @TextInP .responsibility .responsibility #zField
Bk1 @PushTrueWFInG-01 g0 '' #zField
Bk1 @PushTrueWFOutG-01 g1 '' #zField
Bk1 @GridStep f1 '' #zField
Bk1 @PushWFArc f2 '' #zField
Bk1 @PushWFArc f0 '' #zField
>Proto Bk1 Bk1 BpmnScriptTask #zField
Bk2 @AnnotationInP-0n ai ai #zField
Bk2 @TextInP .type .type #zField
Bk2 @TextInP .processKind .processKind #zField
Bk2 @TextInP .xml .xml #zField
Bk2 @TextInP .responsibility .responsibility #zField
Bk2 @GridStep f89 '' #zField
Bk2 @PushTrueWFInG-01 g0 '' #zField
Bk2 @PushWFArc f0 '' #zField
Bk2 @PushTrueWFOutG-01 g1 '' #zField
Bk2 @PushWFArc f1 '' #zField
>Proto Bk2 Bk2 BpmnScriptTask #zField
Bk3 @AnnotationInP-0n ai ai #zField
Bk3 @TextInP .type .type #zField
Bk3 @TextInP .processKind .processKind #zField
Bk3 @TextInP .xml .xml #zField
Bk3 @TextInP .responsibility .responsibility #zField
Bk3 @CallSub f6 '' #zField
Bk3 @PushTrueWFInG-01 g0 '' #zField
Bk3 @PushWFArc f0 '' #zField
Bk3 @PushTrueWFOutG-01 g1 '' #zField
Bk3 @PushWFArc f1 '' #zField
>Proto Bk3 Bk3 BpmnServiceTask #zField
Bk4 @AnnotationInP-0n ai ai #zField
Bk4 @TextInP .type .type #zField
Bk4 @TextInP .processKind .processKind #zField
Bk4 @TextInP .xml .xml #zField
Bk4 @TextInP .responsibility .responsibility #zField
Bk4 @CallSub f21 '' #zField
Bk4 @PushTrueWFInG-01 g0 '' #zField
Bk4 @PushWFArc f0 '' #zField
Bk4 @PushTrueWFOutG-01 g1 '' #zField
Bk4 @PushWFArc f1 '' #zField
>Proto Bk4 Bk4 BpmnServiceTask #zField
Bk5 @AnnotationInP-0n ai ai #zField
Bk5 @TextInP .type .type #zField
Bk5 @TextInP .processKind .processKind #zField
Bk5 @TextInP .xml .xml #zField
Bk5 @TextInP .responsibility .responsibility #zField
Bk5 @GridStep f100 '' #zField
Bk5 @PushTrueWFInG-01 g0 '' #zField
Bk5 @PushWFArc f0 '' #zField
Bk5 @PushTrueWFOutG-01 g1 '' #zField
Bk5 @PushWFArc f1 '' #zField
>Proto Bk5 Bk5 BpmnScriptTask #zField
Bk6 @AnnotationInP-0n ai ai #zField
Bk6 @TextInP .type .type #zField
Bk6 @TextInP .processKind .processKind #zField
Bk6 @TextInP .xml .xml #zField
Bk6 @TextInP .responsibility .responsibility #zField
Bk6 @CallSub f0 '' #zField
Bk6 @PushTrueWFInG-01 g0 '' #zField
Bk6 @PushWFArc f1 '' #zField
Bk6 @PushTrueWFOutG-01 g1 '' #zField
Bk6 @PushWFArc f2 '' #zField
>Proto Bk6 Bk6 BpmnServiceTask #zField
Bk7 @AnnotationInP-0n ai ai #zField
Bk7 @TextInP tags tags #zField
Bk7 @MessageFlowInP-0n messageIn messageIn #zField
Bk7 @MessageFlowOutP-0n messageOut messageOut #zField
Bk7 @TextInP .xml .xml #zField
Bk7 @TextInP .responsibility .responsibility #zField
Bk7 @PushTrueWFInG-01 g0 '' #zField
Bk7 @PushTrueWFOutG-01 g1 '' #zField
Bk7 @GridStep f1 '' #zField
Bk7 @PushWFArc f2 '' #zField
Bk7 @PushWFArc f0 '' #zField
>Proto Bk7 Bk7 BpmnScriptTask #zField
Ao0 f10 865 465 30 30 0 15 #rect
Ao0 S62 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Print output</name>
    </language>
</elementInfo>
' #txt
Ao0 S62 720 650 112 44 -31 -8 #rect
Ao0 f11 561 305 30 30 0 15 #rect
Ao0 S60 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Print output</name>
    </language>
</elementInfo>
' #txt
Ao0 S60 544 810 112 44 -31 -8 #rect
Ao0 S11 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language lang="en">
        <name>Get TemplateSiegel from CMS&#13;
/Template/templatesiegel</name>
    </language>
</elementInfo>
' #txt
Ao0 S11 208 458 192 44 -77 -16 #rect
Ao0 f25 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>UPDATE A-TRUST CUSTOM VARS IN GLOBAL VARIABLE of A-TRUST-CONNECTOR  project:&#13;
- ATrust.APIKey  : API Key for A-Trust Handysignatur api&#13;
- ATrust.TemplateId   : The ID of the signature template to be used.&#13;
- ATrust.EndpointUri   : The endpoint uri of A-Trust Handysignatur Signatur-box webservice.&#13;
</name>
        <nameStyle>6,5,8,0
1,5,8
38,5,8,0
4,5,8
17,5,8,0
10,5,8
4,5
15,5,0,12
43,5
20,5,0,12
50,5
18,5,0,12
1,5,0
72,5
</nameStyle>
    </language>
</elementInfo>
' #txt
Ao0 f25 80 170 720 92 -351 -42 #rect
Ao0 f25 -1|-1|-65536 #nodeStyle
Ao0 S21 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language lang="en">
        <name>Call ATrust/TemplateManagement&#13;
AddTemplateATrust</name>
    </language>
</elementInfo>
' #txt
Ao0 S21 456 458 208 44 -86 -16 #rect
Ao0 S51 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language lang="en">
        <name>Call ATrust/TemplateManagement&#13;
GetListTemplate</name>
    </language>
</elementInfo>
' #txt
Ao0 S51 224 810 208 44 -86 -16 #rect
Ao0 f15 outLink StartATrustExample.ivp #txt
Ao0 f15 inParamDecl '<> param;' #txt
Ao0 f15 requestEnabled true #txt
Ao0 f15 triggerEnabled false #txt
Ao0 f15 callSignature StartATrustExample() #txt
Ao0 f15 persist false #txt
Ao0 f15 startName 'A-Trust HandySignatur Example' #txt
Ao0 f15 caseData 'businessCase.attach=true
case.name=Your process' #txt
Ao0 f15 showInStartList 1 #txt
Ao0 f15 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>StartATrustExample.ivp</name>
    </language>
</elementInfo>
' #txt
Ao0 f15 @C|.responsibility Everybody #txt
Ao0 f15 81 305 30 30 -24 17 #rect
Ao0 f16 outLink DeleteTemplateATrust.ivp #txt
Ao0 f16 inParamDecl '<> param;' #txt
Ao0 f16 requestEnabled true #txt
Ao0 f16 triggerEnabled false #txt
Ao0 f16 callSignature DeleteTemplateATrust() #txt
Ao0 f16 caseData businessCase.attach=true #txt
Ao0 f16 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>DeleteTemplateATrust.ivp</name>
    </language>
</elementInfo>
' #txt
Ao0 f16 @C|.responsibility Everybody #txt
Ao0 f16 81 657 30 30 -21 17 #rect
Ao0 f4 outLink AddTemplateATrust.ivp #txt
Ao0 f4 inParamDecl '<> param;' #txt
Ao0 f4 requestEnabled true #txt
Ao0 f4 triggerEnabled false #txt
Ao0 f4 callSignature AddTemplateATrust() #txt
Ao0 f4 caseData businessCase.attach=true #txt
Ao0 f4 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>AddTemplateATrust.ivp</name>
    </language>
</elementInfo>
' #txt
Ao0 f4 @C|.responsibility Everybody #txt
Ao0 f4 81 465 30 30 -21 17 #rect
Ao0 f17 outLink GetListTemplate.ivp #txt
Ao0 f17 inParamDecl '<> param;' #txt
Ao0 f17 requestEnabled true #txt
Ao0 f17 triggerEnabled false #txt
Ao0 f17 callSignature GetListTemplate() #txt
Ao0 f17 caseData businessCase.attach=true #txt
Ao0 f17 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>GetListTemplate.ivp</name>
    </language>
</elementInfo>
' #txt
Ao0 f17 @C|.responsibility Everybody #txt
Ao0 f17 81 817 30 30 -24 17 #rect
Ao0 f21 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Add your Signature Template to A-Trust Handy Signatur&#13;
Template should be a xml file</name>
        <nameStyle>53,5,8,0
31,5
</nameStyle>
    </language>
</elementInfo>
' #txt
Ao0 f21 80 402 432 44 -212 -18 #rect
Ao0 S31 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language lang="en">
        <name>Prepare Template id &#13;
which will be deleted</name>
    </language>
</elementInfo>
' #txt
Ao0 S31 208 650 128 44 -57 -20 #rect
Ao0 f22 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Remove a Signature Template on A-Trust Handy Signatur&#13;
You should provide exactly templateID</name>
        <nameStyle>8,5,8,0
1,5,8
44,5,8,0
39,5
</nameStyle>
    </language>
</elementInfo>
' #txt
Ao0 f22 80 586 448 44 -217 -18 #rect
Ao0 S41 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language lang="en">
        <name>Call ATrust/TemplateManagement&#13;
DeleteTemplateATrust</name>
    </language>
</elementInfo>
' #txt
Ao0 S41 432 650 208 44 -86 -16 #rect
Ao0 f18 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Sign your docs by A-Trust&#13;
Your process opens a dialog.&#13;
This dialog allows the user uploads a document.&#13;
Then he can press sign the doc. Integration code will be call, then user will be redirect to A-Trust identification page.&#13;
</name>
        <nameStyle>25,5,8,0
204,5
</nameStyle>
    </language>
</elementInfo>
' #txt
Ao0 f18 80 66 640 92 -314 -42 #rect
Ao0 f18 bg|bg|-16744448 #nodeStyle
Ao0 S61 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Print output</name>
    </language>
</elementInfo>
' #txt
Ao0 S61 720 458 112 44 -31 -8 #rect
Ao0 f20 729 817 30 30 0 15 #rect
Ao0 f24 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Get all  your Signature Templates info on A-Trust Handy Signatur&#13;
It returns your templates name and ids</name>
        <nameStyle>7,5,8,0
2,5,0
55,5,8,0
40,5
</nameStyle>
    </language>
</elementInfo>
' #txt
Ao0 f24 80 754 496 44 -244 -18 #rect
Ao0 f3 dialogId com.axonivy.connector.atrust.demo.DocumentSignature #txt
Ao0 f3 startMethod start() #txt
Ao0 f3 requestActionDecl '<> param;' #txt
Ao0 f3 responseMappingAction 'out=in;
' #txt
Ao0 f3 caseData 'case.name=A-Trust Demo' #txt
Ao0 f3 taskData 'TaskA.NAM=Start A-Trust Demo
TaskA.SKIP_TASK_LIST=true' #txt
Ao0 f3 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>DocumentSignature</name>
    </language>
</elementInfo>
' #txt
Ao0 f3 216 298 128 44 -55 -8 #rect
Ao0 f19 865 657 30 30 0 15 #rect
Ao0 f26 640 672 720 672 #arcP
Ao0 f5 344 320 561 320 #arcP
Ao0 f9 832 480 865 480 #arcP
Ao0 f6 111 320 216 320 #arcP
Ao0 f14 664 480 720 480 #arcP
Ao0 f12 832 672 865 672 #arcP
Ao0 f7 400 480 456 480 #arcP
Ao0 f8 111 832 224 832 #arcP
Ao0 f13 336 672 432 672 #arcP
Ao0 f23 656 832 729 832 #arcP
Ao0 f27 111 672 208 672 #arcP
Ao0 f28 111 480 208 480 #arcP
Ao0 f29 432 832 544 832 #arcP
>Proto Ao0 .type com.axonivy.connector.atrust.demo.Data #txt
>Proto Ao0 .processKind NORMAL #txt
>Proto Ao0 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <swimlaneLabel>Example to integrate in your process</swimlaneLabel>
    </language>
    <swimlaneOrientation>false</swimlaneOrientation>
    <swimlaneSize>896</swimlaneSize>
    <swimlaneColor gradient="false">-1</swimlaneColor>
    <swimlaneType>POOL</swimlaneType>
    <swimlaneSpaceBefore>32</swimlaneSpaceBefore>
</elementInfo>
' #txt
>Proto Ao0 0 0 32 24 18 0 #rect
>Proto Ao0 @|BIcon #fIcon
Bk0 g0 51 243 26 26 0 5 #rect
Bk0 g1 563 243 26 26 0 5 #rect
Bk0 f1 actionTable 'out=in;
' #txt
Bk0 f1 actionCode 'ivy.log.info("A-Trust call result code {0}", in.templateData.resultCode);' #txt
Bk0 f1 security system #txt
Bk0 f1 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>console log</name>
    </language>
</elementInfo>
' #txt
Bk0 f1 216 234 112 44 -32 -8 #rect
Bk0 f2 77 256 216 256 #arcP
Bk0 f0 328 256 563 256 #arcP
>Proto Bk0 0 0 32 24 18 0 #rect
>Proto Bk0 @|BpmnScriptTaskIcon #fIcon
Bk1 g0 51 243 26 26 0 5 #rect
Bk1 g1 563 243 26 26 0 5 #rect
Bk1 f1 actionTable 'out=in;
' #txt
Bk1 f1 actionCode 'ivy.log.info("A-Trust call resultCode {0}", in.templateData.resultCode);
ivy.log.info("A-Trust call list of template {0}", in.templateData.listTemplates);' #txt
Bk1 f1 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>console log</name>
    </language>
</elementInfo>
' #txt
Bk1 f1 232 234 112 44 -32 -8 #rect
Bk1 f2 77 256 232 256 #arcP
Bk1 f0 344 256 563 256 #arcP
>Proto Bk1 0 0 32 24 18 0 #rect
>Proto Bk1 @|BpmnScriptTaskIcon #fIcon
Bk2 f89 actionTable 'out=in;
' #txt
Bk2 f89 actionCode '//Create a file that will hold the template
in.myIvyFile = new File("Template.xml", true);

//Save result in java File of ivy File
ivy.cms.getContentObjectValue("/Templates/tempsiegel1", ivy.session.contentLocale).exportContentToFile(in.myIvyFile.getJavaFile(), null);
' #txt
Bk2 f89 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Get TemplateSiegel from CMS&#13;
/template/templatesiegel</name>
    </language>
</elementInfo>
' #txt
Bk2 f89 272 138 192 44 -77 -16 #rect
Bk2 g0 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language lang="en">
        <name>in 1</name>
    </language>
</elementInfo>
' #txt
Bk2 g0 51 147 26 26 -9 14 #rect
Bk2 f0 77 160 272 160 #arcP
Bk2 g1 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language lang="en">
        <name>out 1</name>
    </language>
</elementInfo>
' #txt
Bk2 g1 691 147 26 26 -23 17 #rect
Bk2 f1 464 160 691 160 #arcP
>Proto Bk2 0 0 32 24 18 0 #rect
>Proto Bk2 @|BpmnScriptTaskIcon #fIcon
Bk3 f6 processCall ATrust/TemplateManagement:AddTemplateATrust(File) #txt
Bk3 f6 requestActionDecl '<File templateFile> param;' #txt
Bk3 f6 requestMappingAction 'param.templateFile=in.myIvyFile;
' #txt
Bk3 f6 responseMappingAction 'out=in;
out.templateData=result.templateData;
' #txt
Bk3 f6 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>ATrust/TemplateManagement</name>
    </language>
</elementInfo>
' #txt
Bk3 f6 256 138 176 44 -81 -8 #rect
Bk3 g0 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language lang="en">
        <name>in 1</name>
    </language>
</elementInfo>
' #txt
Bk3 g0 51 147 26 26 -10 14 #rect
Bk3 f0 77 160 256 160 #arcP
Bk3 g1 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language lang="en">
        <name>out 1</name>
    </language>
</elementInfo>
' #txt
Bk3 g1 611 147 26 26 0 5 #rect
Bk3 f1 432 160 611 160 #arcP
>Proto Bk3 0 0 32 24 18 0 #rect
>Proto Bk3 @|BpmnServiceTaskIcon #fIcon
Bk4 f21 processCall ATrust/TemplateManagement:GetListTemplate() #txt
Bk4 f21 requestActionDecl '<> param;' #txt
Bk4 f21 responseMappingAction 'out=in;
out.templateData=result.templateData;
' #txt
Bk4 f21 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>ATrust/TemplateManagement</name>
    </language>
</elementInfo>
' #txt
Bk4 f21 272 138 176 44 -81 -8 #rect
Bk4 g0 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language lang="en">
        <name>in 1</name>
    </language>
</elementInfo>
' #txt
Bk4 g0 51 147 26 26 0 5 #rect
Bk4 f0 77 160 272 160 #arcP
Bk4 g1 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language lang="en">
        <name>out 1</name>
    </language>
</elementInfo>
' #txt
Bk4 g1 707 147 26 26 0 5 #rect
Bk4 f1 448 160 707 160 #arcP
>Proto Bk4 0 0 32 24 18 0 #rect
>Proto Bk4 @|BpmnServiceTaskIcon #fIcon
Bk5 f100 actionTable 'out=in;
' #txt
Bk5 f100 actionCode '// Remove there code and replace by your template Id
in.templateId = ivy.session.getAttribute("deleteTemplateId").toNumber();' #txt
Bk5 f100 security system #txt
Bk5 f100 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Passes a template id which you want to delete</name>
    </language>
</elementInfo>
' #txt
Bk5 f100 136 138 272 44 -126 -8 #rect
Bk5 g0 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language lang="en">
        <name>in 1</name>
    </language>
</elementInfo>
' #txt
Bk5 g0 51 147 26 26 0 5 #rect
Bk5 f0 77 160 136 160 #arcP
Bk5 g1 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language lang="en">
        <name>out 1</name>
    </language>
</elementInfo>
' #txt
Bk5 g1 467 147 26 26 0 5 #rect
Bk5 f1 408 160 467 160 #arcP
>Proto Bk5 0 0 32 24 18 0 #rect
>Proto Bk5 @|BpmnScriptTaskIcon #fIcon
Bk6 f0 processCall ATrust/TemplateManagement:DeleteTemplateATrust(Number) #txt
Bk6 f0 requestActionDecl '<Number templateId> param;' #txt
Bk6 f0 requestMappingAction 'param.templateId=in.templateId;
' #txt
Bk6 f0 responseMappingAction 'out=in;
out.templateData.resultCode=result.resultCode;
' #txt
Bk6 f0 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>ATrust/TemplateManagement</name>
    </language>
</elementInfo>
' #txt
Bk6 f0 256 138 176 44 -81 -8 #rect
Bk6 g0 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language lang="en">
        <name>in 1</name>
    </language>
</elementInfo>
' #txt
Bk6 g0 51 147 26 26 -23 15 #rect
Bk6 f1 77 160 256 160 #arcP
Bk6 g1 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language lang="en">
        <name>out 1</name>
    </language>
</elementInfo>
' #txt
Bk6 g1 659 147 26 26 0 5 #rect
Bk6 f2 432 160 659 160 #arcP
>Proto Bk6 0 0 32 24 18 0 #rect
>Proto Bk6 @|BpmnServiceTaskIcon #fIcon
Bk7 g0 51 243 26 26 0 5 #rect
Bk7 g1 563 243 26 26 0 5 #rect
Bk7 f1 actionTable 'out=in;
' #txt
Bk7 f1 actionCode 'ivy.log.info("A-Trust call result code {0}", in.templateData.resultCode);
ivy.log.info("A-Trust call template id {0}", in.templateData.sigTemplateId);

// prepare data for delete template
ivy.session.setAttribute("deleteTemplateId", in.templateData.sigTemplateId);' #txt
Bk7 f1 security system #txt
Bk7 f1 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>console log</name>
    </language>
</elementInfo>
' #txt
Bk7 f1 216 234 112 44 -32 -8 #rect
Bk7 f2 77 256 216 256 #arcP
Bk7 f0 328 256 563 256 #arcP
>Proto Bk7 0 0 32 24 18 0 #rect
>Proto Bk7 @|BpmnScriptTaskIcon #fIcon
Ao0 f15 mainOut f6 tail #connect
Ao0 f6 head f3 in #connect
Ao0 f3 out f5 tail #connect
Ao0 f5 head f11 mainIn #connect
Ao0 f4 mainOut f28 tail #connect
Ao0 f28 head S11 g0 #connect
Ao0 S11 g1 f7 tail #connect
Ao0 f7 head S21 g0 #connect
Ao0 f16 mainOut f27 tail #connect
Ao0 f27 head S31 g0 #connect
Ao0 S31 g1 f13 tail #connect
Ao0 f13 head S41 g0 #connect
Ao0 f17 mainOut f8 tail #connect
Ao0 f8 head S51 g0 #connect
Ao0 S51 g1 f29 tail #connect
Ao0 f29 head S60 g0 #connect
Ao0 S60 g1 f23 tail #connect
Ao0 f23 head f20 mainIn #connect
Ao0 S21 g1 f14 tail #connect
Ao0 f14 head S61 g0 #connect
Ao0 S61 g1 f9 tail #connect
Ao0 f9 head f10 mainIn #connect
Ao0 S41 g1 f26 tail #connect
Ao0 f26 head S62 g0 #connect
Ao0 S62 g1 f12 tail #connect
Ao0 f12 head f19 mainIn #connect
Bk0 g0 m f2 tail #connect
Bk0 f2 head f1 mainIn #connect
Bk0 f1 mainOut f0 tail #connect
Bk0 f0 head g1 m #connect
Bk0 0 0 640 512 0 #ivRect
Bk1 g0 m f2 tail #connect
Bk1 f2 head f1 mainIn #connect
Bk1 f1 mainOut f0 tail #connect
Bk1 f0 head g1 m #connect
Bk1 0 0 640 512 0 #ivRect
Bk2 g0 m f0 tail #connect
Bk2 f0 head f89 mainIn #connect
Bk2 f1 head g1 m #connect
Bk2 f89 mainOut f1 tail #connect
Bk2 0 0 768 336 0 #ivRect
Bk3 g0 m f0 tail #connect
Bk3 f0 head f6 mainIn #connect
Bk3 f1 head g1 m #connect
Bk3 f6 mainOut f1 tail #connect
Bk3 0 0 688 328 0 #ivRect
Bk4 g0 m f0 tail #connect
Bk4 f0 head f21 mainIn #connect
Bk4 f1 head g1 m #connect
Bk4 f21 mainOut f1 tail #connect
Bk4 0 0 776 360 0 #ivRect
Bk5 g0 m f0 tail #connect
Bk5 f0 head f100 mainIn #connect
Bk5 f1 head g1 m #connect
Bk5 f100 mainOut f1 tail #connect
Bk5 0 0 544 320 0 #ivRect
Bk6 g0 m f1 tail #connect
Bk6 f1 head f0 mainIn #connect
Bk6 f2 head g1 m #connect
Bk6 f0 mainOut f2 tail #connect
Bk6 0 0 736 368 0 #ivRect
Bk7 g0 m f2 tail #connect
Bk7 f2 head f1 mainIn #connect
Bk7 f1 mainOut f0 tail #connect
Bk7 f0 head g1 m #connect
Bk7 0 0 640 512 0 #ivRect
